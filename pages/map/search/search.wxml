<!--pages/search/search.wxml-->
<view class="root">
    <input class="input" placeholder="请输入要搜索的地点" bindinput="getContent" type="text" bindfocus="hideHistory" />
    <view class="input_search" type="primary" bindtap="goSearch">
        搜索
    </view>
</view>

<view class="history" wx:if="{{showHistory && history && history.length > 0}}">
    <view class="history-title">
        搜索历史
    </view>
    <view class="history-list" wx:for="{{history}}" wx:key="*this" data-name="{{item.name}}" data-latitude="{{item.latitude}}" data-longitude="{{item.longitude}}" bindtap="tapHistory">
        <view class="history-item">
            <view>{{item.name}}</view>
            <view style="color: grey;font-size: small;">{{item.aliases}}</view>
        </view>
    </view>
    <view class="delete-history-btn" bindtap="deleteSearchHistory">
        删除历史
    </view>
</view>

<view class="result">
    <view wx:if="{{result&&result.length>0}}">
        <view class="middle">
            搜索结果如下
        </view>

        <view class="result-list" wx:for="{{result}}" wx:key="*this" data-name="{{item.name}}" data-latitude="{{item.latitude}}" data-longitude="{{item.longitude}}" bindtap="tapback">
            <view class="item">
                <view>{{item.name}}</view>
                <view style="color: grey;font-size: small;">{{item.aliases}}</view>
            </view>
        </view>
    </view>
    
</view>